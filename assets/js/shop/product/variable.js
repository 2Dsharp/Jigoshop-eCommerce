var ProductVariable,bind=function(t,e){return function(){return t.apply(e,arguments)}},hasProp={}.hasOwnProperty;ProductVariable=function(){function t(t){this.params=t,this.updateAttributes=bind(this.updateAttributes,this),this.defaultFeaturedImage=jQuery(".featured-image"),jQuery("select.product-attribute").on("change",this.updateAttributes),jQuery("select.product-attribute").trigger("change")}return t.prototype.VARIATION_EXISTS=1,t.prototype.VARIATION_NOT_EXISTS=2,t.prototype.VARIATION_NOT_FULL=3,t.prototype.params={variations:{}},t.prototype.attributes={},t.prototype.defaultFeaturedImage="",t.prototype.updateAttributes=function(t){var e,r,a,i,u,s,o,n,l,p,d;e=jQuery("#add-to-cart-buttons"),r=jQuery("#add-to-cart-messages"),p=/(?:^|\s)attributes\[(\d+)](?:\s|$)/g.exec(t.target.name),this.attributes[p[1]]=t.target.value,o=this.VARIATION_NOT_FULL,d=Object.keys(this.attributes).length,n=this.params.variations;for(s in n)if(hasProp.call(n,s))if(u=n[s],o=this.VARIATION_EXISTS,Object.keys(u.attributes).length===d){l=this.attributes;for(a in l)if(hasProp.call(l,a)&&(i=l[a],""!==u.attributes[a]&&u.attributes[a]!==i)){o=this.VARIATION_NOT_EXISTS;break}if(o===this.VARIATION_EXISTS){if(""===u.price){o=this.VARIATION_NOT_EXISTS;continue}jQuery("div.price > span",e).html(u.html.price),""!==u.html.image?(jQuery(".featured-image").replaceWith(u.html.image),this.refreshVariationGallery(s)):(jQuery(".featured-image").replaceWith(this.defaultFeaturedImage),this.refreshVariationGallery("parent")),jQuery("#variation-id").val(s),e.slideDown(),r.slideUp();break}}else o=this.VARIATION_NOT_FULL;return o!==this.VARIATION_EXISTS&&(jQuery("#variation-id").val(""),jQuery(".featured-image").replaceWith(this.defaultFeaturedImage),e.slideUp()),o===this.VARIATION_NOT_EXISTS?r.slideDown():void 0},t.prototype.refreshVariationGallery=function(t){return jQuery(".variable-product-gallery a.active").removeClass("active"),jQuery(".variable-product-gallery a").not(jQuery("#variation-featured-image-"+t)).addClass("active")},t}(),jQuery(function(){return new ProductVariable(jigoshop_product_variable)});