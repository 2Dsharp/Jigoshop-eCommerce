jigoshop.ajaxSearch=function(e,t){return"undefined"==typeof t.initAction&&(t.initAction=t.action),"undefined"==typeof t.multiple&&(t.multiple=!0),e.select2({multiple:t.multiple,minimumInputLength:3,ajax:{url:t.ajax,type:"post",dataType:"json",cache:!0,data:function(e){return{action:t.action,query:e}},results:function(e){return null!=e.success&&e.success?{results:e.results}:jigoshop.addMessage("danger",e.error,6e3)}},initSelection:function(e,n){return jQuery.ajax({url:t.ajax,type:"post",dataType:"json",data:{action:t.initAction,value:jQuery(e).val()}}).done(function(e){return null!=e.success&&e.success?n(e.results):jigoshop.addMessage("danger",e.error,6e3)})}})};