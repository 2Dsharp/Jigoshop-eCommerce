var AdvancedSettings,bind=function(e,t){return function(){return e.apply(t,arguments)}};AdvancedSettings=function(){function e(){this.generateSecret=bind(this.generateSecret,this),this.generateUserDetails=bind(this.generateUserDetails,this),this.addGroupItem=bind(this.addGroupItem,this),this.usersCount=jQuery("#api-users li").length,jQuery("#api-users").on("click",".generate",this.generateUserDetails),jQuery("#api-users").on("click",".toggle",this.toggleGroupItem),jQuery("#api-users").on("click",".remove",this.removeGroupItem),jQuery("#api-users").on("keyup",".login",this.updateListHeader),jQuery("#api-users").on("click",".add-user",this.addGroupItem),jQuery("#api-secret").on("click",".generate",this.generateSecret)}return e.prototype.usersCount=0,e.prototype.template="",e.prototype.toggleGroupItem=function(e){var t;return t=jQuery(e.target),jQuery(".list-group-item-text",t.closest("li")).slideToggle(function(){return jQuery("span",t).toggleClass("glyphicon-collapse-down").toggleClass("glyphicon-collapse-up")})},e.prototype.removeGroupItem=function(e){return jQuery(e.target).closest(".list-group-item").remove()},e.prototype.addGroupItem=function(e){var t;return e.preventDefault(),t=this.getTemplate(),jQuery("#api-users .list-group").append(t({id:this.usersCount})),this.usersCount++,jQuery("#api-users select").last().select2(),jQuery("#api-users .generate").last().trigger("click")},e.prototype.generateUserDetails=function(e){var t,r,n;return e.preventDefault(),r=this.generateString(16),n=this.generateString(52),t=jQuery(e.target),t.closest("fieldset").find("input.login").val(r).trigger("change"),t.closest("fieldset").find("input.password").val(n).trigger("change"),t.closest("li").find(".title").html(r)},e.prototype.generateSecret=function(e){var t;return e.preventDefault(),t=jQuery(e.target),t.closest("div").find("input").val(this.generateString(52)).trigger("change")},e.prototype.generateString=function(e){var t;for(t="";t.length<e;)t+=Math.random().toString(16).substring(2);return t.substring(0,e)},e.prototype.updateListHeader=function(e){return jQuery(e.target).closest("li").find(".title").html(jQuery(e.target).val())},e.prototype.getTemplate=function(){return""===this.template&&(this.template=wp.template("api-user")),this.template},e}(),jQuery(function(){return new AdvancedSettings});